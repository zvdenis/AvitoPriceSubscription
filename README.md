# AvitoPriceSubscription
Сервис для подписки на объявление Авито. Пользователь будт получать оповещения на почту о любых изменениях цены.

# Подписка
Для подписки необходимо отправить JSON следующего вида:

```
{
  "url" : "https://www.avito.ru/saransk/mototsikly_i_mototehnika/kvadrotsikl_2001643753",
  "email" : "zvdenis@mail.ru"
}
```
В ответ пользователь получит JSON с полем message, сообщающим о результате запроса подписки

# Работа сервиса
После получения запроса на подписку сервис проверяет коррректность почты, по полученной сслыке находит ID и цену товара (парсим страницу). Если товар с таким ID есть в базе сервиса, пользователь добавляется 
в подписки этого товара, если такого товара нет в базе дополнительно создается поле с информацие о предмете.

Также сервис с заданной периодичностью обновляет цену товаров, и при любом изменении формирует рассылку для всех подписчиков с новой ценой и ссылко на товар:
![ Image ](https://github.com/zvdenis/AvitoPriceSubscription/blob/master/sample.png)
